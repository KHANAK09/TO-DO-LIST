<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body {
            background-image: url("https://wallpapers.com/images/hd/yellow-and-blue-background-hocmxooatg584n58.jpg");
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed;
        }
        .container {
            display: flex;
            flex-direction: column;
            width: 1000px;
            background-color: #FEF5D9;
            text-align: center;
            margin: auto;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.15);
            border-top: 5px solid #009578;
            border-bottom: 5px solid #009578;
            margin-top: 50px;
        }
		.containerA {
            display: flex;
            flex-direction: column;
            width: 1000px;
            background-color: #FEF5D9;
            text-align: center;
            margin: auto;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.15);
            border-top: 5px solid #009578;
            border-bottom: 5px solid #009578;
            margin-top: 0px;
        }
        .todo {
            display: flex;
            justify-content: space-between;
            padding: 1em;
            gap: 20px;
            align-items: center;
        }
        .todo__value {
            background: transparent;
            border: none;
            outline: none;
            font-family: 'quicksand', sans-serif;
            font-size: 1em;
            font-weight: bold;
            flex-grow: 1;
        }
        .todo.checked {
            color: #555555;
            background: #eeeeee;
            text-decoration: line-through;
        }
        .navbar {
            background: orange;
            font-family: Calibri;
            padding: 15px;
            text-decoration: none;
        }
        .navdiv {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo a {
            font-size: 35px; 
            font-weight: 600;
            color: white;
            text-decoration: none;
        }
        li {
            list-style: none;
            display: inline-block;
            text-decoration: none;
        }
        li a {
            color: white; 
            font-size: 18px; 
            font-weight: bold; 
            margin-right: 25px;
            text-decoration: none;
        }
        .submit {
            background-color: green;
            display: inline-block;
            text-decoration: none;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 20px;
            text-align: center;
            margin-left: 1400px;
            margin-top: 30px;
        }
        .completion-message {
            display: none;
            margin-top: 20px;
            padding: 10px;
            text-align: center;
            color: green;
            font-weight: bold;
        }
        .completion-message.visible {
            display: block;
        }
        input[type="time"], input[type="date"] {
            padding: 5px;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            font-size: 16px;
            color: #333;
        }
        input[type="time"]:focus, input[type="date"]:focus {
            border-color: #2E8B57;
            outline: none;
        }
        label {
            font-weight: bold;
            color: #555;
            margin-right: 10px;
            font-size: 18px;
        }
        select {
            padding: 5px;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            font-size: 16px;
            color: #333;
            margin-right: 10px;
        }
        select:focus {
            border-color: #2E8B57;
            outline: none;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TO DO LIST</title>
</head>
<body>
<nav class="navbar">
    <div class="navdiv">
        <div class="logo"><a href="#">SCM PROJECT</a></div>
        <ul>
            <li><a href="\to do list.html">HOME</a></li>
            <li><a href="\about.html">ABOUT</a></li>
            <li><a href="\contact.html">CONTACT</a></li>
        </ul>
    </div>
</nav>
<div class="container" id="todosContainer"> 
    <h1>TO DO LIST</h1>
<div class="todo">
        <input class="todo__value" type="text" placeholder="1. (Add a Text)">
        <label for="dates1">Date:</label>
        <input type="date" id="dates1">
        <label for="time1">Time:</label>
        <input type="time" id="time1">
        <label for="priority1">Priority:</label>
        <select id="priority1" class="priority">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>
        <input class="todo__checkbox" type="checkbox" id="task3">
    </div>
    <div class="todo">
        <input class="todo__value" type="text" placeholder="2. (Add a Text)">
        <label for="dates2">Date:</label>
        <input type="date" id="dates2">
        <label for="time2">Time:</label>
        <input type="time" id="time2">
        <label for="priority2">Priority:</label>
        <select id="priority2" class="priority">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>
        <input class="todo__checkbox" type="checkbox" id="task2">
    </div>
	<div class="todo">
        <input class="todo__value" type="text" placeholder="3. (Add a Text)">
        <label for="dates3">Date:</label>
        <input type="date" id="dates3">
        <label for="time3">Time:</label>
        <input type="time" id="time3">
        <label for="priority3">Priority:</label>
        <select id="priority3" class="priority">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>
        <input class="todo__checkbox" type="checkbox" id="task3">
    </div>
    <div class="todo">
        <input class="todo__value" type="text" placeholder="4. (Add a Text)">
        <label for="dates4">Date:</label>
        <input type="date" id="dates4">
        <label for="time4">Time:</label>
        <input type="time" id="time4">
        <label for="priority4">Priority:</label>
        <select id="priority4" class="priority">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>
        <input class="todo__checkbox" type="checkbox" id="task4">
    </div>
    <div class="todo">
        <input class="todo__value" type="text" placeholder="5. (Add a Text)">
        <label for="dates5">Date:</label>
        <input type="date" id="dates5">
        <label for="time5">Time:</label>
        <input type="time" id="time5">
        <label for="priority5">Priority:</label>
        <select id="priority5" class="priority">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>
        <input class="todo__checkbox" type="checkbox" id="task5">
    </div>
	</div>
	<div class="containerA" id="todosContainer1"> 
    <div class="completion-message" id="completionMessage">
        <p>Well Done! You've completed your tasks!</p>
    </div>
	<div style="text-align: center; margin-top: 20px;">
    <div id="progressBarContainer" style="background: #ddd; height: 20px; width: 80%; margin: auto; border-radius: 10px; overflow: hidden; position: relative;">
        <div id="progressBar" style="height: 100%; width: 0; background: green;"></div>
    </div>
    <p id="progressPercentage" style="margin-top: 10px; font-size: 18px; font-weight: bold;">0% Completed</p>
</div>
</div>


<div class="export-container" style="text-align: center; margin: 20px;">
    <button id="exportToPdf" class="submit" style="background-color: green; margin-left: 0;">Save as PDF</button>
</div>

<a href="\about.html" class="submit">DONE</a>

<script>
    const boxes = document.querySelectorAll('.todo__checkbox');
    const todosContainer = document.getElementById('todosContainer');
    const priorities = document.querySelectorAll('.priority');

    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', () => {
            const todo = checkbox.closest('.todo');
            if (checkbox.checked) {
                todo.classList.add('checked');
            } else {
                todo.classList.remove('checked');
            }

            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            const completionMessage = document.getElementById('completionMessage');
            if (allChecked) {
                completionMessage.classList.add('visible');
            } else {
                completionMessage.classList.remove('visible');
            }
        });
    });

    priorities.forEach(priority => {
        priority.addEventListener('change', () => {
            sortTasksByPriority();
        });
    });

    function sortTasksByPriority() {
        const todos = Array.from(document.querySelectorAll('.todo'));
        todos.sort((a, b) => {
            const priorityOrder = { high: 1, medium: 2, low: 3 };
            const aPriority = a.querySelector('.priority').value;
            const bPriority = b.querySelector('.priority').value;
            return priorityOrder[aPriority] - priorityOrder[bPriority];
        });

        todos.forEach(todo => todosContainer.appendChild(todo));
    }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script>
    document.getElementById('exportToPdf').addEventListener('click', () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        let yPosition = 10;

        const todos = document.querySelectorAll('.todo');

        todos.forEach((todo, index) => {
            const task = todo.querySelector('.todo__value').value || 'No task added';
            const date = todo.querySelector('input[type="date"]').value || 'No date set';
            const time = todo.querySelector('input[type="time"]').value || 'No time set';
            const priority = todo.querySelector('.priority').value || 'Not set';
            const completed = todo.querySelector('input[type="checkbox"]').checked ? 'Completed' : 'Not Completed';

            doc.setFontSize(12);
            doc.text(`Task ${index + 1}: ${task}`, 10, yPosition);
            yPosition += 10;
            doc.text(`- Date : ${date}`, 10, yPosition);
            yPosition += 10;
            doc.text(`- Time : ${time}`, 10, yPosition);
            yPosition += 10;
            doc.text(`- Priority: ${priority}`, 10, yPosition);
            yPosition += 10;
            doc.text(`- Status: ${completed}`, 10, yPosition);
            yPosition += 20;

            if (yPosition > 270) {
                doc.addPage();
                yPosition = 10;
            }
        });

        doc.save('to-do-list.pdf');
    });
</script>

<script>
    function updateProgressBar() {
        const checkboxes = document.querySelectorAll('.todo__checkbox');
        const totalTasks = checkboxes.length;
        const completedTasks = Array.from(checkboxes).filter(checkbox => checkbox.checked).length;
        const progress = Math.round((completedTasks / totalTasks) * 100);

        document.getElementById('progressBar').style.width = `${progress}%`;
        const progressPercentage = document.getElementById('progressPercentage');
        progressPercentage.textContent = `${progress}% Completed`;
    }

    const checkboxes = document.querySelectorAll('.todo__checkbox');
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateProgressBar);
    });
</script>


</body>
</html>